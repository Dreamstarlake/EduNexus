<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EduNexus - Your Class Schedule</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <h1>EduNexus (课立方)</h1>
    </header>

    <!-- Authentication Section -->
    <div id="authSection" style="padding: 15px; margin-bottom:10px; background-color: #f0f0f0; border-bottom: 1px solid #ddd;">
        <div id="userStatus" style="display: none;">
            Logged in as: <strong id="loggedInUsername"></strong> 
            <button id="logoutBtn">Logout</button>
        </div>

        <div id="loginRegisterForms">
            <!-- Registration Form -->
            <form id="registerForm" style="margin-bottom: 15px;">
                <h3>Register New User</h3>
                <div>
                    <label for="regUsername">Username:</label>
                    <input type="text" id="regUsername" name="regUsername" required>
                </div>
                <div>
                    <label for="regPassword">Password (min 6 chars):</label>
                    <input type="password" id="regPassword" name="regPassword" required minlength="6">
                </div>
                <button type="submit">Register</button>
            </form>

            <hr>

            <!-- Login Form -->
            <form id="loginForm">
                <h3>Login</h3>
                <div>
                    <label for="loginUsername">Username:</label>
                    <input type="text" id="loginUsername" name="loginUsername" required>
                </div>
                <div>
                    <label for="loginPassword">Password:</label>
                    <input type="password" id="loginPassword" name="loginPassword" required>
                </div>
                <button type="submit">Login</button>
            </form>
        </div>
        <div id="authMessages" style="margin-top:10px; color: red;"></div> <!-- For auth errors/messages -->
    </div>

    <main id="app-container">
        <div id="schedule-view">
            <!-- Timeline will be rendered here -->
        </div>
        <div id="controls">
            <!-- View Switcher Controls -->
            <div id="viewSwitcher" style="margin-bottom: 10px; padding-bottom:10px; border-bottom: 1px solid #eee;">
                <button id="weekViewBtn" class="view-btn active-view">Week View</button>
                <button id="monthViewBtn" class="view-btn">Month View</button>
                <!-- Day View and Agenda View buttons can be added here later and initially hidden or disabled -->
            </div>
            <!-- Week Navigation Controls -->
            <div id="weekNav" style="margin-bottom: 15px; padding-bottom: 10px; border-bottom: 1px solid #eee;">
                <button id="prevWeekBtn">&laquo; Prev Week</button>
                <button id="todayBtn">Today</button>
                <button id="nextWeekBtn">Next Week &raquo;</button>
                <span id="currentWeekDisplay" style="margin-left: 15px; font-weight: bold;"></span>
            </div>
            <button id="addCourseBtn">Add Course</button>
            <button id="settingsBtn">Settings</button>
            <button id="enableRemindersBtn">Enable Reminders</button>
        </div>
    </main>

    <!-- Month View Container -->
    <div id="monthViewContainer" style="display: none; max-width: 1200px; margin: 20px auto; padding: 20px; background-color: white; box-shadow: 0 0 10px rgba(0,0,0,0.05); border-radius: 8px;">
        <div id="monthHeader" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; padding-bottom: 10px; border-bottom: 1px solid #eee;">
            <button id="prevMonthBtn" class="view-btn">&laquo; Prev Month</button>
            <h2 id="currentMonthYearDisplay" style="text-align: center; margin: 0;">Month Year</h2> <!-- Target for updateMonthDisplayHeader -->
            <button id="nextMonthBtn" class="view-btn">Next Month &raquo;</button>
        </div>

        <div id="monthGridDayHeaders" style="display: grid; grid-template-columns: repeat(7, 1fr); text-align: center; font-weight: bold; margin-bottom: 5px; padding: 5px 0; background-color: #f8f9fa;">
            <!-- Day headers will be populated by JS or can be hardcoded if preferred -->
            <div>Sun</div>
            <div>Mon</div>
            <div>Tue</div>
            <div>Wed</div>
            <div>Thu</div>
            <div>Fri</div>
            <div>Sat</div>
        </div>

        <div id="monthGridDays" style="display: grid; grid-template-columns: repeat(7, 1fr); gap: 1px; background-color: #ddd;">
            <!-- Day cells will be dynamically generated by JavaScript -->
            <!-- Example of a day cell (to be generated by JS): 
            <div class="month-day-cell">
                <div class="day-number">1</div>
                <div class="course-indicators">
                    <span class="course-dot" style="background-color: red;"></span>
                </div>
            </div> 
            -->
        </div>
    </div>

    <div id="notifications-area">
        <!-- Notifications will be displayed here -->
    </div>

    <!-- Course Input Modal -->
    <div id="courseModal" class="modal" style="display: none;">
        <div class="modal-content">
            <span class="close-button" id="closeCourseModalBtn">&times;</span>
            <h2 id="modalTitle">Add New Course</h2>
            <form id="courseForm">
                <input type="hidden" id="courseId" name="courseId">

                <label for="courseName">Course Name:</label>
                <input type="text" id="courseName" name="courseName" required>

                <label for="startTime">Start Time:</label>
                <input type="time" id="startTime" name="startTime" required>

                <label for="endTime">End Time:</label>
                <input type="time" id="endTime" name="endTime" required>

                <label for="dayOfWeek">Day of Week:</label>
                <select id="dayOfWeek" name="dayOfWeek" required>
                    <option value="0">Sunday</option>
                    <option value="1">Monday</option>
                    <option value="2">Tuesday</option>
                    <option value="3">Wednesday</option>
                    <option value="4">Thursday</option>
                    <option value="5">Friday</option>
                    <option value="6">Saturday</option>
                </select>

                <label for="courseColor">Course Color:</label>
                <input type="color" id="courseColor" name="courseColor" value="#4A90E2"> <!-- Default color -->

                <label for="instructor">Instructor (Optional):</label>
                <input type="text" id="instructor" name="instructor">

                <label for="location">Location (Optional):</label>
                <input type="text" id="location" name="location">

                <div class="form-actions">
                    <button type="submit" id="saveCourseBtn">Save Course</button>
                    <button type="button" id="cancelCourseBtn">Cancel</button>
                     <!-- Delete button will be shown only when editing -->
                    <button type="button" id="deleteCourseBtn" style="display:none; background-color: #dc3545;">Delete Course</button>
                </div>
            </form>
        </div>
    </div>
    <script src="app.js"></script>
</body>
</html>
